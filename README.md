# CYCU-SP
System Program (SP) / 系統程式 of CYCU ICE
本repo為中原資工已經被移除的課程之備份連結、課程內容及我當初修課的實作（不包含上課PDF）。

## Tutorial Videos (YouTube)
### 學前能力需求說明
- [學前能力需求說明](https://youtu.be/Dzn4XvbaLwQ)
### X86 CPU及指令說明
- [x86組合語言](https://youtu.be/rlshdyt1_DY)
### 第一章 系統程式簡介（第1,2週）
- [1.1 Computer System Programming](https://youtu.be/3rFotxCWkAg)
- [1.2 Translator(轉譯器)](https://youtu.be/_P7vGGVmjm8)
- [1.3 Loader and Linker(載入器及連結器)](https://youtu.be/V5VkUcYXO5I)
- [1.4 Operating System(作業系統)](https://youtu.be/V-yXoycKIvs)
- [1.5 Relationship between system software and machine architecture(系統軟體與機器結構之關係)](https://youtu.be/QAJRDuvujEg)
- 1.6 SIC Machine Structure(機器架構)
    - [Instruction Cycle(指令週期)](https://youtu.be/UnqRJ1DED88)
    - [Addressing Mode(定址模式)](https://youtu.be/5juLY-YFZNc)
    - [Instruction Type(指令類型)](https://youtu.be/uH2RZpZAPO0)
    - [Indexing Addressing(索引定址)](https://youtu.be/6MfWsOoPRMg)
    - [SIC Programming Examples](https://youtu.be/R46n1hzS_dY)
- 1.7 80XX machine structure(機器結構)
    - [Instruction Cycle(指令週期)](https://youtu.be/hD3IR3j4PAI)
    - [Addressing Mode(定址模式)](https://youtu.be/ztMP6FFCMY8)
    - [Machine Code Format(機器碼模式)](https://youtu.be/OkwEgWetC2s)
### 第二章 組譯器(Assembler)
- [2.1 Assembler Introduction](https://youtu.be/uWy7DxkGdr0)
- 2.2 SIC Assembly
    - [SIC Assembly language](https://youtu.be/NAlsMh-p3AU)
    - [SIC standard type](https://youtu.be/bT4L109Rt2k)
    - [SIC/XE type](https://youtu.be/pgt8Wgd_CB8)
- 2.3 80XX Assembly Functions
    - [Introductions](https://youtu.be/lHnioxp5mWQ)
    - [EXTRN pseudo instruction](https://youtu.be/LuBw9eesAa8)
    - [LOOP](https://youtu.be/0tGas5nba90)
- 2.4 Assembler Algorithm
    - [General Design Procedure](https://youtu.be/fj78ICX_vWc)
    - [Two Passes Assembler](https://youtu.be/tI0_f8TyhZg)
- [2.5 Data Structure](https://youtu.be/p0wQJJUoZVU)
- 2.6 Machine Independent Assembler
    - [是否一定要two passes](https://youtu.be/U6D4EqHQxu8)
    - [Program Relocation](https://youtu.be/PPnYxtzikls)
- [2.7 Separate assemble and relocation](https://youtu.be/x6f1vU2zHJA)
- [2.8 Other Considerations](https://youtu.be/N5eUJfCNDvg)
- 組譯器之實作
    - [1. 實作規定](https://youtu.be/ug1_8iepaq8)
    - [2. Example 1](https://youtu.be/0Z8677bGpMY)
    - [2. Example 2](https://youtu.be/tvYw6Jig2BE)
    - [3. How to Prove](https://youtu.be/Yid4vSgoY_Y)
    - [4. Assembler實作步驟](https://youtu.be/GDTQOQJGgYw)
    - [5. Lexical Analysis](https://youtu.be/UaApgHOW79k)
    - [6. Syntax Analysis](https://youtu.be/V3wQBJr6UZY)
    - [7. 如何翻machine code](https://youtu.be/cSMyNVfbUcU)
### 第三章 載入器及連結器
- [3.1 Introduction](https://youtu.be/fky8hNR0SEs)
- [3.2 Absolute Loader](https://youtu.be/NvvFXaSCGGM)
- 3.3 Program Linking
    - [Program Linking](https://youtu.be/5qBdfUj8aoY)
    - [Relocation](https://youtu.be/jjhPnrg1HWY)
    - [Generate Object Code](https://youtu.be/tMxMu6KgWEo)
    - [Generate Modification Record](https://youtu.be/SOnmDJ9DcGw)
    - [How to link PROGA, PROGB, PROGC](https://youtu.be/gAGn7rYYnHU)
    - [Address constant](https://youtu.be/myO0NzLgKek)
    - [Summary](https://youtu.be/O-n3hFwEuOQ)
- [3.4 Design Linking Loader](https://youtu.be/l9hASFHqVrU)
- 3.5 The other Loaders
    - [Different between Linking Loader and Linkage Editor](https://youtu.be/T_pLkD1X4DY)
    - [Implement Linkage Editor and Relocating Loader](https://youtu.be/D-Ys_6XzulA)
    - [Other problem](https://youtu.be/_kMu_iKNM_8)
    - [Dynamic Loader and overlay](https://youtu.be/TVdrkKLCVxo)
    - [The Other Loaders補充說明](https://youtu.be/k2pydcmj1R4)
### 第四章 巨集處理器
- [4.1 Basic Macro Processor Functions](https://youtu.be/mLlaSISj_JU)
- [4.2 Macro processor implementation](https://youtu.be/CsOKIfeu2l4)
- [4.3 Macro instructions defines macro](https://youtu.be/U7XEeaZeO5U)
- [4.4 Macro call within macro](https://youtu.be/3yhlDxs5hmY)
- [4.5 Macro processor within language translator](https://youtu.be/etJMBJqGyxw)
### 第五章 編譯器
- [5.1 Basic Compiler Concept](https://youtu.be/IRQjVj0DqY4)
- [5.2 Crammar](https://youtu.be/hInk5N3O65A)
- [5.3 Lexical Analysis](https://youtu.be/wiOglDnTUxw)
- 5.4 Syntax Analysis
    - [Operator Precedence](https://youtu.be/eglImWje72g)
    - [Recursive Descent Parser](https://youtu.be/vUmArcfYzOw)
- [5.5 Code Generation](https://youtu.be/Iyy-JRHxFng)
- [5.6 Intermediate Form](https://youtu.be/5Lp5xVHHxp0)
- 5.7 Machine Independent Compiler Features
    - [Storage Allocation](https://youtu.be/BjtYcy50YlU)
    - [Activatoin Record](https://youtu.be/nIog-7AXGHM)
    - [Prologue and Epilogue](https://youtu.be/hHyZxkWSjgs)
    - [Structure Variables](https://youtu.be/TtJuYktMpeE)
    - [Code Optimization](https://youtu.be/DGctI97x468)
- [5.8 Compiler Design Option](https://youtu.be/duIhmkUFj2Y)
### 第六章 編譯器之實作
- [6.1 Lexical Analysis](https://youtu.be/G9bzQ9pS3wQ)
- 6.2 Syntax Analysis
    - [PROGRAM and VARIABLE](https://youtu.be/Sao0eDiHoy4)
    - [DIMENSION and LABEL and GTO](https://youtu.be/E4gXkGi1CFg)
- [6.3 Function Definition(SUBRUTINE) and Function Call(CALL)](https://youtu.be/tWJ4we5SibM)
- [6.4 Assignment](https://youtu.be/0khi5Msdxuk)
- [6.5 IF Statement](https://youtu.be/nLXS9g9-0qg)
- [6.6 Array and Elements](https://youtu.be/yw13M2c70zE)
- [6.7 Examples](https://youtu.be/1NNrzwRJS3k)
- Compiler實作
    - [程式作業二說明](https://youtu.be/Tv3ASBaJ-eo)
### 第七章 資料庫管理系統
- [7.1 Introduction](https://youtu.be/6c0jzC-210c)
- [7.2 Database definition](https://youtu.be/QUkZPDZT5k4)
- [7.2 difference between ISAM file and database](https://youtu.be/WQBBbAphzFI)
- [7.3 Data Base System Architecture](https://youtu.be/wauBkuiHXHA)
- [7.4 Data Base Processing](https://youtu.be/ZRkY9AcYGTk)
### 第八章 軟體工程
- [8.1 Introduction Software Engineering](https://youtu.be/A3GCoG5PFfQ)
- [8.2 System Analysis](https://youtu.be/MJN0Kon_LfE)
- [8.3 System Design](https://youtu.be/SqusW-SqNl0)
- [8.4 System Testing Strategies](https://youtu.be/kZuPaKQ8eqU)
### 第九章 作業系統與電腦的關係
- 9.1 Operation Systen Introduction
    - [What is and Operation System](https://youtu.be/2Yexj0yTFUg)
    - [Bootstrap Loader](https://youtu.be/8bNy-jL7xJc)
    - [Command Interpreter](https://youtu.be/-hBfTshNGK4)
    - [Accounting and Program Execution](https://youtu.be/GBJ9Mv0BuzY)
    - [System call](https://youtu.be/-ZKEkcOMTQs)
    - [System Protection](https://youtu.be/xIkuUdmFt74)
- [9.2 Early System](https://youtu.be/8nj1by1v4mM)
- 9.3 Operating System Type
    - [Batch System](https://youtu.be/B486uQNc9ys)
    - [Turnaround Time and Off/On Line](https://youtu.be/ZhKVXMfxSlM)
    - [Multiprogramming](https://youtu.be/2xBqcvYHbuA)
    - [Time Sharing System](https://youtu.be/5wWf-N1VE6Y)
    - [Spooling and Response time](https://youtu.be/lo2nMCP5TI8)
    - [Real Time System](https://youtu.be/60DIZuYGxM8)
    - [Multiprocessor](https://youtu.be/lcBfKHTRq04)
    - [Distributed System](https://youtu.be/QvNgHUcDE3Q)
### 學習回顧與整理
- [110/10/22](https://youtu.be/CKoMUBj-DQc)
- [110/11/02](https://youtu.be/Ygyrl6gRSYk)
- [111/01/04](https://youtu.be/Ee9o2vdF3u4)

## 課程參考資料 - Structure
```
CourseData
├──how to write assembler.doc - 如何撰寫組譯器
├──FRANCIS COMPILER.docx - 如何撰寫編譯器
├──spname.doc - 名詞解釋
├──spdata - Microsoft obj com exe格式
├──x86referencedata - x86參考資料
├──SICreferncedata - SIC參考資料
├──Z80 - Z80參考資料
└──spbook - SP書面資料
```

## 考古題 - Structure
```
QuizData
├──110
└──111
```

## Midterm Project - Cross Assembler
### Official Description
繳交期限：2023/11/25 23:59

程式說明請看第一章與第二章錄影檔

評分規定
SIC & SIC/XE Assembler：滿分100 //SIC & SIC/XE 都有寫才算分， 只有寫其中一個以0分計

配分
基礎題: 45% 
進階題: 45%
說明文件: 10%

※以下情況以０分計
Compile error
版本 //提供者與被提供者皆是
上傳包含執行檔
直接寫死印出答案
輸入名稱寫死，導致跑不出結果
機測結果負分
只有交document，程式不能執行 //不需繳交程式

※部分扣分
無法讀檔(僅能手動輸入) -30分
無法寫檔(僅顯示在螢幕) -30分
輸出格式不符 -30分
其餘依機測結果扣分

※其他注意事項

程式要能以讀檔的方式讀入，檔名為手動輸入
你的程式必須要能容錯，亦即執行遇到錯誤時，若是syntax error or lexical error，必須要能輸出error message，若是自己程式的error，必須要能輸出之前做過的結果，以免因為程式錯誤強制結束程式，沒有輸出，痛失分數
請儘早上傳你的程式，逾期不候
※程式注意事項

1、2、3、4 table請用此篇公告的table，由1起始(0不放)，四個table的檔名一律為Table1.table、Table2.table、 Table3.table、Table4.table，以方便處理。
5、6、7table是使用mod 100的hash function放入範圍為0~99，遇到碰撞，則index+1放入，再遇到碰撞依此類推
不用處理macro
需寫literal的處理
機測檔可能會出現的pseudo code
*START/END
*EQU/ORG
*Define constant/ storage( BYTE,WORD)
*LTORG
*USE BASE register
不一定全出現，額外寫出的pseudo code可以額外加分，但前提基本的要有辦法寫出
pseudo code中EQU不會出導致multi-passes的指令
當原始程式有出現任何error(lexical or syntax error)，請至少顯示出這一行有error，且程式要繼續走下去到整個原始程式翻完為止，不是遇到error就停止
literal hash 至 literal table，並由table依序(依table前後次序)定地址。
= x'b1'  只用b1 hash
= c'EOF' 只用EOF hash
= 3277   只用3277 hash
※output格式
請看範例檔

※document
doc基本分6分，最多10分，內容需包含：
1. 開發平台
2. 使用開發環境
3. 所選擇的組合語言( x86, SIC )
4. 說明你的程式設計(功能，流程，使用的data structure)
5. 未完成的功能
為追求效率，用純文字檔(.txt)即可，不需使用doc檔作美化，排版等...
上述的document內容缺一不可，少其中一項者doc的分數0分
只要你的程式不是版本或不能執行，就算是測出來分數0分，document也會給分
請附上document，程式碼，若有需要，必須加上project相關檔案，但禁止上傳的檔案包含
執行檔，並將檔案用zip，rar等方法壓縮好，以自己的學號為檔名上傳
若上傳有問題，歡迎拿來電學715室直接交給助教。

其他
同時也附上由前幾屆學長姐所整理的參考內容，對各位寫程式或許會有幫助

任何問題歡迎來信提問
### My Descriptions
- 我是當時唯二選擇寫x86的人之一，我最終project分數87，另一個35
- ```ASM.cpp```的輸出一律寫到當前目錄下，名為```output.txt```
- ```x86_input.txt```是正確的輸出
- ```x86_input_Quiz```沒有輸出檔（看terminal的輸出）
- 在```./QuizOutputs```中有關SIC/XE的檔案名稱混亂是因為助教在機測其他人時沒管那麼多，而我因為是寫x86所以也不用管（除非你自己想碰SIC/XE）
### Structure
```
CrossAssembler
├──documents.txt - 課程要求要提供的簡易說明文件
├──Tables.cpp - 有關table的函數操作
├──OPcodes.cpp - 根據給予的.tables寫死的op codes
├──ASM.cpp - 主程式
├──Table1.table - x86
├──Table2.table - x86
├──Table3.table - x86
├──Table4.table - x86
├──80082.PDF - 參考文件
├──Tables - SIC/XE與x86的tables
├──ExampleTestCases - SIC/XE與x86的範例輸入輸出
├──Hints - 說明文件
├──QuizInputs - 上機考試的測試輸入
└──QuizOutputs - 上機考試的正確輸出
```

## Final Project - Compiler
### Official Description
繳交期限：2023/12/25 (一) 23:59

一. 分數分配：
   (1) 基本題(60%)
   (2) Error處理(30%)

   (3)document(10%)

二. 扣分：
   (1)Compiler error,只有執行檔,直接寫死印出答案,以上三種皆為零分計.
   (2)無法讀檔(僅能手動輸入),則扣30分.
   (3)無法寫檔(僅顯示在螢幕),則扣30分.
   (4)輸出格式不符(只有印出機器碼,沒有source code)扣30分
   (5)輸入檔名稱寫死,導致跑不出結果,0分.
   (6)只有token,0分.
   (7)版本(提供者也算),0分
   (8)沒有寫Error處理(起碼要有Syntax Error),0分
   (9)程式部分0分,則該次程式分數皆為0分,不額外給予document分數.

三. 基本要求(必須做到否則不用機測)：
   如果只有寫到token的同學甚至更差的，助教沒辦法給你任何分數
   要能作出 Lexical analysis 及 Syntax analysis 並產生中間碼
　Franscis Language 的 11 個 Statement 都必須實作，缺一個未做都視為程式未完成，以零分計。
   

五. Error處理：
   必須要能輸出Error的行數,並翻出Error前後的code.
   例如第6行出現Error,那你必須輸出說line6有一個Error.
   並判斷為何種錯誤種類,output檔中除了要指名Error在第六行外,
   必須要印出除了第六行以外的中間碼結果,
   因為Error而程式當掉或是跳過Error當作沒看到的一律 0  分.

六. output格式：
   輸出的格式如同給的範例檔
   每一行除了中間碼外,[同時要將輸入的code輸出]
   EX:((5,24), , , ) [input_code]
   輸出格式不對也會予以扣分

七. document：
   基本分5分,最多10分.
   內容需包含：開發平台
   使用開發環境
   說明你的程式設計(功能，流程，使用的data structure)
   未完成的功能(請詳細列出，若測出不符合所列的將會扣分)

   為追求效率，用純文字檔(.txt)即可，不需使用doc檔作美化，排版等...
   上述的document內容缺一不可，少其中一項者doc的分數0分

八. 注意事項
　(1) 請儘早上傳你的程式，逾期不接受補交
　(2) 繳交內容以document 與程式原始檔(ex: .c, .cpp...etc)，並將檔案壓縮，以自己的學號為檔名上傳
　(3) 若上傳有問題，請提早反應出來或拿至電學715交給老師，若超過繳交期限，亦視為逾期。
　(4) 助教視情況(通常是各位的反應)擁有更改此說明的權利,屆時會公告有更新.

### My Description
- 我沒寫這個final project，最後59.9進位剛好及格過www
- 反正這下面的cpp都是寫了一點就沒繼續寫的東西

### Structure
```
Compiler
├──Tables.cpp - 有關table的函數操作
├──Compiler.cpp - 主程式
├──Table1.table
├──Table2.table
├──Tables - SIC/XE與x86的tables
├──FRANCIS COMPILER Syntax.pdf - 參考文件
└──ExampleTestCases - SIC/XE與x86的範例輸入輸出
```